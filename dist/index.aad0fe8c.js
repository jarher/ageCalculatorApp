const e=(e,t)=>{e.innerText=t,e.style.opacity=0,setTimeout(()=>{e.style.opacity=1},20)},t=e=>document.querySelector(e),r=(e,t)=>{1===Number(e).toString().length&&a(t,"units-number"),2===Number(e).toString().length&&a(t,"dozens-number"),3===Number(e).toString().length&&a(t,"cents-number"),4===Number(e).toString().length&&a(t,"thousands-number")},a=(e,t)=>{Array.from(e.classList).forEach(t=>e.classList.remove(t)),e.classList.add(t)},s=({dateValue:t,dateValueContainer:a})=>{let s,l=0;r(t,a),s||(s=setInterval(()=>{e(a,l),l>=t&&(clearInterval(s),s=null,l=0),l++},10))};var l=({yearCalculated:e,monthCalculated:r,dayCalculated:a})=>{[{dateValue:e,dateValueContainer:t("#total-year span")},{dateValue:r,dateValueContainer:t("#total-month span")},{dateValue:a,dateValueContainer:t("#total-days span")}].forEach(e=>{s(e)})};const n=e=>e%4==0&&e%100!=0||e%400==0,i=e=>e?29:28,u=()=>{let e=new Date;return{currentYear:e.getFullYear(),currentMonth:e.getMonth(),currentDay:e.getDate()}},o=e=>[31,e,31,30,31,30,31,31,30,31,30,31],d=(e,t)=>{let r;let{currentYear:a,currentMonth:s,currentDay:l}=t(),[u,d,m]=e,c=Number(d.value),h=Number(u.value),v=o(i(n(a))),g=a-m.value,y=s+1;return c>y?(g-=1,r=12-(c-y-1)):r=y-c,h===l&&y===c?[g,r,0]:[g,r+(h>l?-1:0),h>l?v[s-1]-(h-l):l-h]};var m=e=>{let[t,r,a]=d(e,u);return{yearCalculated:t,monthCalculated:r,dayCalculated:a}};const c=e=>{let{currentYear:t}=u(),r=o(i(n(document.getElementById("yearNumber").value))),a=document.getElementById("monthNumber").value,s=document.getElementById("yearNumber").value;return a>12?"Must be a valid date":e>r[a-1]?s<t&&a<=12?"Must be a valid date":"Must be a valid day":void 0},h=e=>{if(e>12)return"Must be a valid month"},v=e=>{let{currentYear:t}=u();if(e>t)return"Must be in the past"},g=(e,t)=>{try{y(e,t)}catch(e){console.error(e.message)}},y=(e,t)=>{let r=e.filter(e=>!t.hasOwnProperty(e));if(r.length>0)throw Error(`Missing required properties: ${r.join(", ")}`)},p=(e,t)=>{document.getElementById(e).value=t[e]},b=(e,t,r)=>{let{errorOutputClass:a,formControlClass:s}=r,l=document.getElementById(t).parentElement;l.querySelector(`.${a}`).innerText=e;let n=!!e;return n?l.classList.add(s):l.classList.remove(s),n};class E{static validate(e,t){let{type:r,errors:a}=t,s={string:{regExp:/^[a-zA-Z]+$/,error:a.message},email:{regExp:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,error:a.message},password:{regExp:/^(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,error:a.message},number:{regExp:/^[0-9]+$/,error:a.message},tel:{regExp:/^(\+\d{1,2}\s)?\(?\d{3}\)?[\s.-]\d{3}[\s.-]\d{4}$/,error:a.message}};return a.hasOwnProperty("required")&&!e?a.required:E.testingError(s[r],t,e)}static testingError({regExp:e,error:t},r,a){let{type:s,errors:l}=r,n=r.regExp||e,i=E.testingValueLengthError(s,l,a),u=E.customValidation(l,a);return"password"===s&&u?u:i||(n.test(a)?u:t)}static testingValueLengthError(e,t,r){let a="number"===e?Number(r).toString().length:r.length;return t.hasOwnProperty("min")&&a<t.min.value?t.min.message:t.hasOwnProperty("max")&&a>t.max.value?t.max.message:void 0}static customValidation(e,t){if(e.hasOwnProperty("customValidation"))return e.customValidation(t)}}const V=(e,t,r)=>b(f(e,t),e,r),f=(e,t)=>{let r=document.getElementById(e).value,a=t[e],s=E.validate(r,a);return void 0===s?"":s},S=(e,t)=>{e.inputId=t,C(e)},C=({inputId:e,validatorSchema:t,hasErrors:r,rest:a})=>{let s=V(e,t,a);r.forEach(t=>{t.inputId===e&&(t.isInvalid=s)})},M=(e,t)=>e.map(e=>(p(e,t),{inputId:e,isInvalid:!1})),I=({handler:e,eventValidatorProps:t})=>{e({initialValuesKeys:t.initialValuesKeys,changeErrorStateProps:{validatorSchema:t.validatorSchema,hasErrors:t.hasErrors,rest:t.rest}})},N=({initialValuesKeys:e,changeErrorStateProps:t})=>{let{hasErrors:r,rest:a}=t;document.querySelector("form").addEventListener("submit",s=>{if(s.preventDefault(),e.forEach(e=>{S(t,e)}),r.length>0&&!r.map(e=>e.isInvalid).some(e=>!0===e)){let t=e.map(e=>({idValue:e,value:document.getElementById(e).value}));a.onSubmit&&a.onSubmit(t)}})},x=({changeErrorStateProps:e})=>{document.querySelectorAll("input").forEach(t=>{t.addEventListener("blur",t=>{S(e,t.target.id)})})},q=({validatorSchema:e,formEvents:t,...r},a,s)=>{t.map(t=>({handler:"blur"===t?x:N,eventValidatorProps:{initialValuesKeys:a,validatorSchema:e,hasErrors:s,rest:r}})).forEach(e=>I(e))};var w=class{constructor(e,t,r){this.inputFieldKeys=Object.keys(e.initialValues),this.validationErrors=r(this.inputFieldKeys,e.initialValues),t(e,this.inputFieldKeys,this.validationErrors)}static resetValues(){Array.from(document.querySelectorAll("input")).forEach(e=>e.value="")}};const{formValidation:O}={formValidation:e=>{for(let t of(g(["initialValues","validatorSchema","formEvents","errorOutputClass","formControlClass"],e),Object.keys(e.validatorSchema)))g(["type","errors"],e.validatorSchema[t]);new w(e,q,M)},resetValues:w.resetValues};O({initialValues:{dayNumber:"",monthNumber:"",yearNumber:""},validatorSchema:{dayNumber:{type:"number",errors:{message:"Must be a valid day",min:{value:1,message:"Must be a valid day"},max:{value:2,message:"Must be a valid day"},customValidation:e=>c(e),required:"This field is required"}},monthNumber:{type:"number",errors:{message:"Must be a valid month",min:{value:1,message:"Must be a valid month"},max:{value:2,message:"Must be a valid month"},customValidation:e=>h(e),required:"This field is required"}},yearNumber:{type:"number",errors:{message:"Must be a valid year",min:{value:4,message:"Must be a valid year"},max:{value:4,message:"Must be in the past"},customValidation:e=>v(e),required:"This field is required"}}},formEvents:["submit"],errorOutputClass:"input-error",formControlClass:"form-wrapper-invalid",onSubmit:e=>{l(m(e))}});
//# sourceMappingURL=index.aad0fe8c.js.map

const e=(e,r)=>{e.innerText=r,e.style.opacity=0,setTimeout(()=>{e.style.opacity=1},20)},r=e=>document.querySelector(e),t=(e,r)=>{1===Number(e).toString().length&&a(r,"units-number"),2===Number(e).toString().length&&a(r,"dozens-number"),3===Number(e).toString().length&&a(r,"cents-number"),4===Number(e).toString().length&&a(r,"thousands-number")},a=(e,r)=>{Array.from(e.classList).forEach(r=>e.classList.remove(r)),e.classList.add(r)},n=({dateValue:r,dateValueContainer:a})=>{let n,i=0;t(r,a),n||(n=setInterval(()=>{e(a,i),i>=r&&(clearInterval(n),n=null,i=0),i++},10))};var i=({yearCalculated:e,monthCalculated:t,dayCalculated:a})=>{[{dateValue:e,dateValueContainer:r("#total-year span")},{dateValue:t,dateValueContainer:r("#total-month span")},{dateValue:a,dateValueContainer:r("#total-days span")}].forEach(e=>{n(e)})};const u=e=>e%4==0&&e%100!=0||e%400==0,l=e=>e?29:28,o=()=>{let e=new Date;return{currentYear:e.getFullYear(),currentMonth:e.getMonth(),currentDay:e.getDate()}},s=e=>[31,e,31,30,31,30,31,31,30,31,30,31],d=(e,r)=>{let t;let{currentYear:a,currentMonth:n,currentDay:i}=r(),[o,d,m]=e,c=Number(d.value),h=Number(o.value),v=s(l(u(a))),y=a-m.value,b=n+1;return c>b?(y-=1,t=12-(c-b-1)):t=b-c,h===i&&b===c?[y,t,0]:[y,t+(h>i?-1:0),h>i?v[n-1]-(h-i):i-h]};var m=e=>{let[r,t,a]=d(e,o);return{yearCalculated:r,monthCalculated:t,dayCalculated:a}};const c=e=>{let{currentYear:r}=o(),t=s(l(u(document.getElementById("yearNumber").value))),a=document.getElementById("monthNumber").value,n=document.getElementById("yearNumber").value;return a>12?"Must be a valid date":e>t[a-1]?n<r&&a<=12?"Must be a valid date":"Must be a valid day":void 0},h=e=>{if(e>12)return"Must be a valid month"},v=e=>{let{currentYear:r}=o();if(e>r)return"Must be in the past"},y=(e,r)=>{document.getElementById(e).value=r[e]},b=(e,r,t)=>{let{errorOutputSelector:a,formControlAttribute:n}=t,i=document.getElementById(r).parentElement;i.querySelector(a).innerText=e;let u=!!e;return u?i.classList.add(n):i.classList.remove(n),u};var p=class{static validate(e,r){let{type:t,errors:a}=r;if(a.hasOwnProperty("required")&&!e)return a.required;if("string"===t){if(!/^[a-zA-Z]+$/.test(e))return a.string;if(a.hasOwnProperty("min")&&e.length<a.min.value||a.hasOwnProperty("max")&&e.length<a.max.value)return a.min.error}if("email"===t&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))return a.email;if("password"===t&&!/^(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(e))return a.password;if("number"===t){if(!/^[0-9]+$/.test(e))return a.number;if(a.hasOwnProperty("min")&&Number(e).toString().length<a.min.value)return a.min.error;if(a.hasOwnProperty("max")&&Number(e).toString().length>a.max.value)return a.max.error;if(a.hasOwnProperty("customValidation"))return a.customValidation(e)}}};const f=(e,r,t)=>b(g(e,r),e,t),g=(e,r)=>{let t=document.getElementById(e).value,a=r[e],n=p.validate(t,a);return void 0===n?"":n},E=(e,r)=>{e.inputId=r,V(e)},V=({inputId:e,validatorSchema:r,hasErrors:t,rest:a})=>{let n=f(e,r,a);t.forEach(r=>{r.inputId===e&&(r.isInvalid=n)})},S=(e,r)=>e.map(e=>(y(e,r),{inputId:e,isInvalid:!1})),M=({handler:e,eventValidatorProps:r})=>{e({initialValuesKeys:r.initialValuesKeys,changeErrorStateProps:{validatorSchema:r.validatorSchema,hasErrors:r.hasErrors,rest:r.rest}})},N=({initialValuesKeys:e,changeErrorStateProps:r})=>{let{hasErrors:t,rest:a}=r;document.querySelector("form").addEventListener("submit",n=>{if(n.preventDefault(),e.forEach(e=>{E(r,e)}),t.length>0&&!t.map(e=>e.isInvalid).some(e=>!0===e)){let r=e.map(e=>({idValue:e,value:document.getElementById(e).value}));a.onSubmit&&a.onSubmit(r)}})},q=({changeErrorStateProps:e})=>{document.querySelectorAll("input").forEach(r=>{r.addEventListener("blur",r=>{E(e,r.target.id)})})},I=({validatorSchema:e,formEvents:r,...t},a,n)=>{r.map(r=>({handler:"blur"===r?q:N,eventValidatorProps:{initialValuesKeys:a,validatorSchema:e,hasErrors:n,rest:t}})).forEach(e=>M(e))};class P{constructor(e,r,t){this.validateRequiredProperties(e),this.inputFieldKeys=Object.keys(e.initialValues),this.validationErrors=t(this.inputFieldKeys,e.initialValues),r(e,this.inputFieldKeys,this.validationErrors)}static resetValues(){Array.from(document.querySelectorAll("input")).forEach(e=>e.value="")}}P.prototype.validateRequiredProperties=function(e){let r=["initialValues","validatorSchema","formEvents","errorOutputSelector","formControlAttribute"].filter(r=>!e.hasOwnProperty(r));if(r.length>0)throw Error(`Missing required properties in form data: ${r.join(", ")}`)};const{formValidation:w}=function(){try{let e=P.resetValues;return{formValidation:e=>new P(e,I,S),resetValues:e}}catch(e){console.error(e.message)}}();w({initialValues:{dayNumber:"",monthNumber:"",yearNumber:""},validatorSchema:{dayNumber:{type:"number",errors:{number:"Must be a valid day",min:{value:1,error:"Must be a valid day"},max:{value:2,error:"Must be a valid day"},customValidation:e=>c(e),required:"This field is required"}},monthNumber:{type:"number",errors:{number:"Must be a valid month",min:{value:1,error:"Must be a valid month"},max:{value:2,error:"Must be a valid month"},customValidation:e=>h(e),required:"This field is required"}},yearNumber:{type:"number",errors:{number:"Must be a valid year",min:{value:4,error:"Must be a valid year"},max:{value:4,error:"Must be in the past"},customValidation:e=>v(e),required:"This field is required"}}},formEvents:["submit"],errorOutputSelector:".input-error",formControlAttribute:"form-wrapper-invalid",onSubmit:e=>{i(m(e))}});
//# sourceMappingURL=index.2b4f5d75.js.map
